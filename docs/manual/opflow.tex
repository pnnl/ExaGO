\chapter{Optimal power flow (OPFLOW)}\label{chap:opflow}

OPFLOW solves the full AC optimal power flow problem and provides various flexible features that can be toggled via run-time options. It has interfaces to different optimization solvers that can be executed on CPUs or on GPUs.

\section{Formulation}
Optimal power flow is a general nonlinear programming problem with the following form
\begin{align}
\text{min. }& f(x) \\
&\text{s.t.} \nonumber \\
& g(x) = 0 \\
& h(x) \le 0 \\
& x^{\text{min}} \le x \le x^{\text{max}}
\end{align}
Here, $x$ are the decision variables with lower and upper bounds $x^{\text{min}}$ and $x^{\text{max}}$, respectively, $f(x)$ is the objective function, $g(x)$ and $h(x)$ are the equality and inequality constraints, respectively. In the following sections we describe what constitutes these different terms as used by OPFLOW.

\subsection{Variables and bounds} \label{subsec:opflow_var}

The different variables used in \opflow formulation are described in Table \ref{tab:opflow_vars}.

\begin{table}[!htbp]
\caption{Optimal power flow (OPFLOW) variables}
\small
  \begin{tabular}{|p{0.1\textwidth}|p{0.2\textwidth}|p{0.2\textwidth}|p{0.5\textwidth}|}
   \hline
    \textbf{Symbol} & \textbf{Variable} & \textbf{Bounds} & \textbf{Notes} \\
    \hline
    $\pgj$ & Generator real power dispatch & $\pminj \le \pgj \le \pmaxj$ & ~\\
    \hline
    $\qgj$ & Generator reactive power dispatch & $\qminj \le \qgj \le \qmaxj$ & ~ \\
    \hline
    $\Deltapj$ & Generator real power deviation & $-p^{\text{r}}_j \le \Deltapj \le p^{\text{r}}_j$ & \begin{itemize}[noitemsep,topsep=0pt,leftmargin=*]  \item Only used when \option{\opflowgensetpoint} or \option{\opflowuseagc} option is active \item $\Deltapj$ is the deviation from real power generation setpoint $\psetj$.\end{itemize} \\
    \hline
    $\pgjset$ & Generator real power set-point & $\pminj \le \pgjset \le \pmaxj$ & \begin{itemize}[noitemsep,topsep=0pt,leftmargin=*] \item Only used when \option{\opflowgensetpoint} or \option{\opflowuseagc} option is active. \end{itemize} \\
    \hline
    $\Delta{P}$ & System power excess/deficit & Unbounded & Only used when \option{\opflowuseagc} is active \\
    \hline
    $\thetai$ & Bus voltage angle & -$\pi \le \thetai \le \pi$ & 
    \begin{itemize}[noitemsep,topsep=0pt,leftmargin=*] 
        \item Used with power balance polar model (\option{\opflowmodel~\pbpol}) 
        \item $\thetai$ is unbounded, except reference bus angle $\thetarefi$ which is fixed to 0 
    \end{itemize} \\
    \hline
    $\vi$ & Bus voltage magnitude & $\vmini \le \vi \le \vmaxi$ & \begin{itemize}[noitemsep,topsep=0pt,leftmargin=*] \item Used with power balance polar model (\option{\opflowmodel~\pbpol})\item $\vmini = \vmaxi = \vseti$ if fixed generator set point voltage option is active (\option{\opflowgensetpoint}) \end{itemize} \\
    \hline
  %  Bus voltage real part & $\vreali$ & $-\vmaxi \le \vreali \le \vmaxi$ & Used with power balance cartesian model (\option{\opflowmodel~ \pbcar})\\
  %  \hline
  %  Bus voltage imaginary part & $\vimagi$ & $-\vmaxi \le \vimagi \le \vmaxi$ & Used with power balance cartesian model (\option{\opflowmodel~\pbcar})\\
  %  \hline
    $\pmisplusi,\pmisminusi$ & Bus real power mismatch variables & $0 \le \pmisplusi,\pmisminusi \le \infty$ & Used when power mismatch variable option is active (\option{\opflowincludepowerimbalance 1}) \\
    \hline
    $\qmisplusi,\qmisminusi$ & Bus reactive power mismatch variables & $0 \le \qmisplusi,\qmisminusi \le \infty$ & Used when power mismatch variable option is active (\option{\opflowincludepowerimbalance 1}) \\
    \hline
    $\Deltaplj$ & Real power load loss & $0 \le \Deltaplj \le \plj $ & Used when load loss variable option is active (\option{\opflowincludeloadloss 1}) \\
    \hline
    $\Deltaqlj$ & Reactive power load loss & $0 \le \Deltaqlj \le \qlj$ & Used when load loss variable option is active (\option{\opflowincludeloadloss 1}) \\
    \hline
  %  Bus reactive power mismatch & $q^{mis}_i$ & Unbounded & Used when power mismatch variable option is active (\text{-opflow_include_powerimbalance_variables 1})
  %  \hline
  \end{tabular}
  \label{tab:opflow_vars}
\end{table}
Power imbalance variables are non-physical (slack) variables that measure the violation of power balance at buses. Having these variables (may) help in making the optimization problem easier to solve since they always ensure feasibility of the bus power balance constraints.

\subsection{Objective Function}\label{sec:opflow_obj}

The objective function for OPFLOW is given in (\ref{eq:opflow_obj})
\begin{equation}
\text{min.} ~ C_{gen}(p^{\text{g}}) + C_{dev}(\Delta p^{\text{g}}) +
C_{loss}(\Delta p^{\text{l}},\Delta q^{\text{l}}) + C_{imb}(\Delta p^{+},\Delta p^{-},\Delta q^{+},\Delta q^{-})
\label{eq:opflow_obj}
\end{equation}
 
\subsubsection{Total generation cost $C_{gen}(p^{\text{g}})$}
Needs option \opflowoption{\opflowobjective}{\mingencost}
\begin{equation}
C_{gen}(p^{\text{g}}) = \sum_{\jinJgen} \costgj(\pgj)
\label{eq:opf_obj_mingencost}
\end{equation}
Here, $\costgj$ is a quadratic function of the form $\costgj = \agj{\pgj}^2 + \bgj\pgj + \cgj$.

\subsubsection{Total generation setpoint deviation $C(\Delta p^{\text{g}})$}
Needs option \opflowoption{\opflowobjective}{\mingensetpointdeviation}
\begin{equation}
C_{dev}(\Delta p^{\text{g}}) = \sum_{\jinJgen} ({\Deltapj}^2)
\label{eq:opf_obj_mingensetpointdev}
\end{equation}
This feature is only supported with IPOPT solver.

\subsubsection{Load loss $C(\Delta p^{\text{l}},\Delta q^{\text{l}})$}
This term gets added to the objective when  \option{\opflowincludeloadloss} option is active. 
\begin{equation}
C_{loss}(\Delta p^{\text{l}},\Delta q^{\text{l}}) =  \sum_{\jinJload} \sigmalj({\Deltaplj} + {\Deltaqlj})
\label{eq:opf_obj_minloadloss}
\end{equation}
The load loss penalty $\sigmalj$ can be set via the option
\option{-opflow\_loadloss\_penalty}. The default is \$1000/MW for all loads.

\subsubsection{Power imbalance $C_{imb}(\Delta p^{+},\Delta p^{-},\Delta q^{+},\Delta q^{-})$}
This term gets added to the objective when  \option{-opflow\_include_powerimbalance_variables} option is active. 
\begin{equation}
C_{imb}(\Delta p^{+},\Delta p^{-},\Delta q^{+},\Delta q^{-}) =  \sum_{i \in J^{bus}} \sigmai(\Delta p^{+} + \Delta p^{-} + \Delta q^{+} + \Delta q^{-})
\label{eq:opf_obj_minpowerimbalance}
\end{equation}
The power imbalance cost $\sigmai$ can be set via the option
\option{-opflow\_powerimbalance\_penalty}. The default is \$10,000/MW$^2$ for all buses. Though the power imbalance variables $\Delta p^{+},\Delta p^{-},\Delta q^{+},\Delta q^{-}$ are slack or non-physical, they can help in solving infeasible cases having no power flow solution, and thus provide a measure of the infeasibility. 

\subsection{Equality constraints}\label{sec:opflow_eq}

\subsubsection{Nodal power balance}
The nodal power balance equations for each bus $i$ are given by
\begin{align}
\sum_{\substack{\jinJgen \\ A^{\text{g}}_{ij} \neq 0}} \pgj &=   \pshi + \pmisplusi - \pmisminusi + \sum_{\substack{\jinJload \\ A^{\text{l}}_{ij} \neq 0}} (\plj - \Deltaplj) + \sum_{\substack{\jinJbr \\ A^{\text{br}}_{oi} \neq 0}} \pbrjod + \sum_{\substack{\jinJbr \\ A^{\text{br}}_{id} \neq 0}} \pbrjdo \\
\sum_{\substack{\jinJgen \\ A^{\text{g}}_{ij} \neq 0}} \qgj &=  \qshi + \qmisplusi - \qmisminusi + \sum_{\substack{\jinJload \\ A^{\text{l}}_{ij} \neq 0}} (\qlj - \Deltaqlj) +
\sum_{\substack{\jinJbr \\ A^{\text{br}}_{oi} \neq 0}} \qbrjod + \sum_{\substack{\jinJbr \\ A^{\text{br}}_{id} \neq 0}} \qbrjdo \\
\end{align}
where, the real and reactive power shunt consumption is given by (\ref{eq:opflow_sh_p}) and (\ref{eq:opflow_sh_q})


The real and reactive power flow $\pbrjod$, $\qbrjod$ for line $j$ from the origin bus $o$ to destination bus $d$ is given by (\ref{eq:opflow_br_podflow}) -- 
 (\ref{eq:opflow_br_qodflow})
and from destination bus $d$ to origin bus $o$ is given by (\ref{eq:opflow_br_pdoflow}) -- 
 (\ref{eq:opflow_br_qdoflow})

 \subsubsection{Shunt power}
\begin{align}
&\pshi = \gshi{\vi}^2 \label{eq:opflow_sh_p} \\
&\qshi = -\bshi{\vi}^2 \label{eq:opflow_sh_q}
\end{align}

\subsubsection{Generator real power output}

When using \option{\opflowgensetpoint}, two extra variables $\pgjset$ and $\Deltapj$ are added for each generator. The generator real power output $\pgj$ is related to the power deviation $\Deltapj$ by the following relations
\begin{align}
  \pgjset + \Deltapj - \pgj = 0 \\
  \pgjset - p^{\text{g*}}_j = 0
\end{align}
The second equation sets the generator set-point $\pgjset$ to a fixed value $p^{\text{g*}}_j$. Here, $p^{\text{g*}}_j$ is the set-point for the generator real power output, which can be thought of as an operator set or contractual agreement set-point.

\subsection{Inequality constraints}

\subsubsection{MVA flow on branches}
MVA flow limits at origin and destination buses for each line.
\begin{align}
  {\pbrjod}^2 + {\qbrjod}^2 \le {\srateAj}^2,~~\jinJbr\\
  {\pbrjdo}^2 + {\qbrjdo}^2 \le {\srateAj}^2,~~\jinJbr
\end{align}
To reduce the number of inequality constraints, only lines that are in service and having MVA A rating $\srateAj$ less than 10000 MVA are considered.

\subsubsection{Branch flows}
In polar coordinates, the real and reactive power flow $\pbrjod$, $\qbrjod$  from bus $o$ to bus $d$ on line $j$ is given by (\ref{eq:opflow_br_podflow}) -- 
 (\ref{eq:opflow_br_qodflow})


\begin{align}
\pbrjod &= g_{oo}{v^2_o} + v_ov_d(g_{od}\cos(\theta_o - \theta_d) + b_{od}\sin(\theta_o - \theta_d)) \label{eq:opflow_br_podflow}\\
\qbrjod &= -b_{oo}{v^2_o} + v_ov_d(-b_{od}\cos(\theta_o - \theta_d) + g_{od}\sin(\theta_o - \theta_d)) \label{eq:opflow_br_qodflow}
\end{align}

\noindent
and from bus $d$ to bus $o$ is given by (\ref{eq:opflow_br_pdoflow}) -- (\ref{eq:opflow_br_qdoflow})

\begin{align}
\pbrjdo &= g_{dd}{v^2_d} + v_dv_o(g_{do}\cos(\theta_d - \theta_o) + b_{do}\sin(\theta_d - \theta_o))  \label{eq:opflow_br_pdoflow} \\
\qbrjdo &= -b_{dd}{v^2_d} + v_dv_o(-b_{do}\cos(\theta_d - \theta_o) + g_{do}\sin(\theta_d - \theta_o)) \label{eq:opflow_br_qdoflow}
\end{align}

\subsubsection{Automatic generation control (AGC)}
With \option{\opflowuseagc}, two additional constraints are added for each participating generator to enforce the proportional generator redispatch participation as done in automatic generation control (AGC). These two equations are 
\begin{equation}
\begin{aligned}
  \left(\alpha^{\text{g}}_j\Delta{P} - \Deltapj\right)\left(\pgj - \pmaxj\right) \ge 0 \\
  \left(\Deltapj - \alpha^{\text{g}}_j\Delta{P}\right)\left(\pminj - \pgj\right) \ge 0
\end{aligned}
\label{eq:opflow_agc}
\end{equation}
Eq. \ref{eq:opflow_agc} forces the generator set-point deviation to be equal to the generation participation when the generator has head-room available $\pminj \le \pgj \le \pmaxj$. Here, $\alpha^{\text{g}}_j$ is the generator participation factor which is the proportion of the power deficit/excess $\Delta{P}$ that the generator provides.

\subsubsection{Generator bus voltage control}
When the option \opflowoption{\opflowgenbusvoltage~\fixedwithinqbounds} is used, the generator bus voltage is fixed when the total reactive power generation available at the bus is within bounds. When it reaches its bounds, the voltage varies with the generator reactive power fixed at its bound. To implement this behavior, two inequality constraints are added for each generator bus
\begin{equation}
\begin{aligned}
(v^{\text{set}}_i - \vi)(q_i - q^{\text{max}_i}) \ge 0 \\
(\vi - v^{\text{set}}_i)(q^{\text{min}_i} - q_i) \ge 0
\end{aligned}
\label{eq:opflow_genbusvoltage}
\end{equation}
Here, $q_i$, $q^{\text{max}_i}$, and $q^{\text{min}_i}$ are the generated, maximum, and minimum reactive power at the bus, respectively.

\begin{comment}
\subssubection{Voltage magnitude for cartesian coordinates}
When using cartesian coordinates for voltages, inequality constraints (\ref{eq:opflow_ineq_vmag}) need to introduced to constraining the voltage magnitude within its bounds
\begin{equation}
  {\vmini}^2 \le {\vreali}^2 + {\vimagi}^2 \le {\vmaxi}^2,~~\iinJbus
\label{eq:opflow_ineq_vmag}
\end{equation}
\end{comment}

\section{Solvers}\label{sec:opflow_solvers}
\opflow can be used with a few different solvers. All the solvers solve the optimization problem via a nonlinear interior-point algorithm.
\begin{enumerate}
  \item \ipopt~is a popular open-source package for solving nonlinear optimization problems. It is the most robust of the solvers implemented for solving \opflow. However, it can be run only on a single process and does not have GPU support. \\ Option:
  \opflowoption{-opflow\_solver}{IPOPT} \opflowoption{-opflow_model}{POWER\_BALANCE\_POLAR}

  \item \hiop~ is a high-performance optimization library that implements an interior-point algorithm for solving nonlinear optimization problems. There are two solvers available from the \hiop library: Mixed sparse-dense formulation {\opflowoption{-opflow\_solver}{HIOP}}, and sparse formulation {\opflowoption{-opflow\_solver}{HIOPSPARSE}}. The library supports execution both on the CPU and the GPU. Options: \\ CPU: {\opflowoption{-opflow\_solver}{HIOP}} {\opflowoption{-opflow\_model}{POWER\_BALANCE\_HIOP}} {\opflowoption{-hiop\_compute\_mode}{CPU}} \\ GPU: \opflowoption{-opflow\_solver}{HIOP} {\opflowoption{-opflow\_model}{PBPOLRAJAHIOP}} {\opflowoption{-hiop\_compute\_mode}{GPU}} 

\end{enumerate}

\section{Models}\label{sec:opflow_model}

A `model' in \exago describes the representation of the underlying physics. All \opflow models use the power balance formulation in polar coordinates for the ACOPF equations. The difference between the different models arises from their specific implementation/interface. The different models available for \opflow are listed in Table \ref{tab:opflow_models}. As discussed earlier, not every `model' is compatible with every `solver'. Table \ref{tab:opflow_model_solver_compatibility} lists the solver compatibility for the different models.

\begin{table}[!h]
  \caption{OPFLOW models}
  \small
  \begin{tabular}{|p{0.2\textwidth}|p{0.4\textwidth}|p{0.2\textwidth}|p{0.15\textwidth}|}
    \hline
    \textbf{Model type} & \textbf{OPFLOW option (\opflowoption{\opflowmodel}{})} & \textbf{Compatible solvers} & \textbf{CPU-GPU}\\
    \hline
    Power balance with polar coordinates & \pbpol & IPOPT, HIOPSPARSE & CPU\\
    \hline
    Power balance with polar coordinates used with HIOP & {\pbpolhiop} & \hiop & CPU/GPU\\
    \hline
    Power balance with polar coordinates used with HIOP on GPU & {\pbpolrajahiop} & \hiop & GPU\\
    \hline
  \end{tabular}
  \label{tab:opflow_models}
\end{table}

\begin{table}[h!]
  \centering
  \caption{OPFLOW Model-solver compatibility}
  \begin{tabular}{|c|c|c|c|}
    \hline
    Model Name & \ipopt & \hiop & HIOPSPARSE \\ \hline
    POWER\_BALANCE\_POLAR & \checkmark & & \checkmark \\ \hline
%    POWER\_BALANCE\_CARTESIAN & \checkmark &  & \checkmark & \\ \hline
    POWER\_BALANCE\_HIOP & & \checkmark &  \\ \hline
    PBPOLRAJAHIOP & & \checkmark &  \\ \hline
  \end{tabular}
\label{tab:opflow_model_solver_compatibility}
\end{table}

\subsection{Power balance polar}
The power balance polar model ({\opflowmodel~\pbpol}) uses the power balance formulation with polar representation for the network voltages. It runs on CPU only and is compatible with \ipopt and sparse \hiop solvers.

\begin{comment}
\subsection{Power balance cartesian}
\end{comment}

\subsection{Power balance with HiOp on CPU}
This model ({\opflowmodel~\pbpolhiop}) implements the power balance formulation with polar coordinates used with \hiop solver only. The model evaluation is done only on the CPU, but the \hiop solver can be executed either on the CPU (\opflowoption{-hiop\_compute_mode}{CPU}) or GPU (\opflowoption{-hiop\
_compute\_mode}{HYBRID}) by setting the \option{-hiop_compute_mode} option appropriately.

\subsection{Power balance with HiOp on GPU}
The PBPOLRAJAHIOP model ({\opflowmodel~\pbpolrajahiop}) computes all the model and optimization calculations on the GPU. This model uses \raja and Umpire \cite{beckingsale2019umpire} libraries to run \opflow calculations (objective, constraints, etc.) on the GPU. 

\section{Input and Output}
The current \exago version only supports reading network files in \matpower format and can (optionally) write the output back in \matpower data file format.

\section{Usage}
\begin{lstlisting}
  ./opflow -netfile <netfilename>  <opflowoptions>
\end{lstlisting}

\section{Options}
See table \ref{tab:opflow_options}
\begin{table}[H]
  \caption{OPFLOW options}
  \small
  \begin{tabular}{|p{0.4\textwidth}|p{0.2\textwidth}|p{0.2\textwidth}|p{0.2\textwidth}|}
    \hline
    \textbf{Option} & \textbf{Meaning} & \textbf{Values (Default value)} & \textbf{Compatibility}\\ \hline
    -netfile & Network file name & string $<$ 4096 characters (\href{https://gitlab.pnnl.gov/exasgd/frameworks/exago/-/blob/master/datafiles/case9/case9mod.m}{case9mod.m}) & \\ \hline
    -print\_output & Print output to screen & 0 or 1 (0) & All solvers\\ \hline
    -save\_output & Save output to file & 0 or 1 (0) & All solvers \\ \hline
    -opflow\_output\_format & Solution file format & See Table~\ref{tab:opflow_output_format} (MATPOWER) & All solvers \\ \hline
    -opflow\_model & Representation of network balance equations and bus voltages & See Table \ref{sec:opflow_model} (POWER\_BALANCE\_POLAR) & \\ \hline
    -opflow\_solver & Optimization solver & See section \ref{sec:opflow_solvers} & \\ \hline
    -opflow\_initialization & Type of initialization & See Table \ref{tab:opflow_initializations} (MIDPOINT) & All solvers \\ \hline
    -opflow\_has\_gensetpoint & Uses generation set point and activates ramping variables & 0 or 1 (0) & All models\\ \hline
    -opflow\_use\_agc & Uses AGC formulation in OPF & 0 or 1 (0) & POWER\_BALANCE \_POLAR only \\ \hline
    -opflow\_objective & type of objective function & See table \ref{tab:opflow_objtypes} (MIN\_GEN\_COST) & All models\\ \hline
    -opflow\_genbusvoltage & Type of generator bus voltage control & See Table \ref{tab:opflow_genbusvoltage} (VARIABLE\_WITHIN \_BOUNDS) & POWER\_BALANCE \_POLAR only \\ \hline
    -opflow\_ignore\_lineflow\_constraints & Ignore line flow constraints & 0 or 1 (0) & All models \\ \hline
    -opflow\_monitor\_line\_kvlevels & Monitor line flows at these KV levels & comma separated list & All models \\ \hline
    -opflow\_include\_loadloss\_variables & Include load loss & 0 or 1 (0) & All models\\ \hline
    -opflow\_include\_powerimbalance\_variables & Include power imbalance & 0 or 1 (0) & All models \\ \hline
    -opflow\_loadloss\_penality & \$ penalty for load loss & real (1000) & All models \\ \hline
    -opflow\_powerimbalance\_penalty & \$ penalty for power imbalance & real (10000) & All models \\ \hline
    -opflow\_tolerance & Optimization solver tolerance & real (1e-6) & All solvers \\ \hline 
  \end{tabular}
  \label{tab:opflow_options}
\end{table}

\begin{table}[H]
  \centering
  \caption{OPFLOW solution output formats}
  \label{tab:opflow_output_format}
  \begin{tabular}{|c|l|}
    \hline
    \textbf{Format name} & \textbf{Description} \\ \hline
    MATPOWER & Matlab format compatible with MATPOWER \\ \hline
    CSV & Custom comma separated variable format \\ \hline
    JSON & Javascript object notation, used for visualization \\ \hline
    MINIMAL & Simple text file containing minimal information. \\ \hline
  \end{tabular}
\end{table}

\begin{table}[!htbp]
  \centering
  \caption{OPFLOW initializations}
  \begin{tabular}{|c|c|}
    \hline
    \textbf{Initialization type} & \textbf{Meaning} \\ \hline
    MIDPOINT & Use mid-point of bounds \\ \hline
    FROMFILE & Use values from network file \\ \hline
    ACPF & Run AC power flow \\ \hline
    FLATSTART & Flat-start \\ \hline
    DCOPF & Run DC optimal power flow \\ \hline
  \end{tabular}
\label{tab:opflow_initializations}
\end{table}

\begin{table}[H]
  \centering
  \caption{OPFLOW generator bus voltage control modes}
  \begin{tabular}{|p{0.35\textwidth}|p{0.3\textwidth}|p{0.35\textwidth}|}
    \hline
    \textbf{Voltage control type} & \textbf{Meaning} & \textbf{Compatibility}\\ \hline
%    FIXED\_AT\_SETPOINT & Fixed at given set-point. Reactive power limits are ignored \\ \hline
    FIXED\_WITHIN\_QBOUNDS & Fixed within reactive power bounds & POWER\_BALANCE\_POLAR only \\ \hline
    VARIABLE\_WITHIN\_BOUNDS & Variable within voltage bounds & All models \\ \hline
  \end{tabular}
\label{tab:opflow_genbusvoltage}
\end{table}

\begin{table}[H]
  \centering
  \caption{OPFLOW objective function types}
  \begin{tabular}{|p{0.35\textwidth}|p{0.35\textwidth}|p{0.3\textwidth}|}
    \hline
    \textbf{Objective function} & \textbf{Meaning} & \textbf{Compatibility}\\ \hline
    MIN\_GEN\_COST & Minimize generation cost & All models \\ \hline
    MIN\_GENSETPOINT\_DEVIATION & Minimize deviation (ramp up-down) from generator set-point & POWER\_BALANCE\_POLAR model only\\ \hline
    NO\_OBJ & No objective function (only feasibility) & All models \\ \hline
  \end{tabular}
\label{tab:opflow_objtypes}
\end{table}


\section{Examples}

Some \opflow example runs are provided with some sample output. Options values are the default values in table \ref{tab:opflow_options} unless otherwise specified. \opflowoption{-print_output} is only used in the first example to save space. Sample output is generated by running examples from the installation directory.

Example using the \ipopt solver:

\begin{lstlisting}
input{output/opflow_ipopt_output.tex}
\end{lstlisting}

Example using the \hiop solver on the CPU with ACPF initialization:

\begin{lstlisting}
input{output/opflow_hiop_output.tex}
\end{lstlisting}
